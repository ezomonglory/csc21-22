import Audio from "./Audio";
import { useRef, useState, useEffect } from "react";
import MusicModal from "./MusicModal";

export default function Layout({ children }) {
	const [play, setPlay] = useState(false);
    const [open, setOpen] = useState(true)
const ref=useRef()

	const Play = () => {
		setPlay(!play);
		console.log(play);
		localStorage.setItem("play", play);
	};
    

 

	return (
		<>
			<Audio play={play} />
			{/* Bastard */}

          {  open ?
                    <div className=" flex flex-col items-center justify-center h-screen bg-gray-200  ">
                        <MusicModal setOpen={setOpen} Play={Play} />
                    </div>
                    :

			<main>{children}</main>}
			<div
            ref={ref}
				className='flex justify-end fixed right-[12px] md:right-[50px] bottom-[20px]  md:bottom-[60px] z-50 '
				onClick={Play}
			>
				{play ? (
                    
					<svg
						className='h-[56px] w-[56px] play blend'
						viewBox='0 0 64 64'
						fill=''
						xmlns='http://www.w3.org/2000/svg'
					>
						<g id='Frame'>
							<path
								id='Vector'
								d='M32 6C26.8577 6 21.8309 7.52487 17.5552 10.3818C13.2795 13.2387 9.94702 17.2994 7.97914 22.0502C6.01127 26.8011 5.49638 32.0288 6.49959 37.0723C7.50281 42.1159 9.97907 46.7486 13.6152 50.3848C17.2514 54.0209 21.8842 56.4972 26.9277 57.5004C31.9712 58.5036 37.1989 57.9887 41.9498 56.0209C46.7007 54.053 50.7613 50.7205 53.6182 46.4448C56.4751 42.1691 58 37.1423 58 32C57.9914 25.107 55.2494 18.4988 50.3753 13.6247C45.5012 8.75064 38.893 6.0086 32 6ZM28 40C28 40.5304 27.7893 41.0391 27.4142 41.4142C27.0392 41.7893 26.5304 42 26 42C25.4696 42 24.9609 41.7893 24.5858 41.4142C24.2107 41.0391 24 40.5304 24 40V24C24 23.4696 24.2107 22.9609 24.5858 22.5858C24.9609 22.2107 25.4696 22 26 22C26.5304 22 27.0392 22.2107 27.4142 22.5858C27.7893 22.9609 28 23.4696 28 24V40ZM40 40C40 40.5304 39.7893 41.0391 39.4142 41.4142C39.0392 41.7893 38.5304 42 38 42C37.4696 42 36.9609 41.7893 36.5858 41.4142C36.2107 41.0391 36 40.5304 36 40V24C36 23.4696 36.2107 22.9609 36.5858 22.5858C36.9609 22.2107 37.4696 22 38 22C38.5304 22 39.0392 22.2107 39.4142 22.5858C39.7893 22.9609 40 23.4696 40 24V40Z'                                
				                            
							/>
						</g>
					</svg>
				) : (
					<svg
						className='h-[56px] w-[56px] pause blend'
						viewBox='0 0 64 64'
						fill=''
						xmlns='http://www.w3.org/2000/svg'
					>
						<g id='Frame'>
							<path
								id='Vector'
								d='M32 6C26.8577 6 21.8309 7.52487 17.5552 10.3818C13.2795 13.2387 9.94702 17.2994 7.97914 22.0502C6.01127 26.8011 5.49638 32.0288 6.49959 37.0723C7.50281 42.1159 9.97907 46.7486 13.6152 50.3848C17.2514 54.0209 21.8842 56.4972 26.9277 57.5004C31.9712 58.5036 37.1989 57.9887 41.9498 56.0209C46.7007 54.053 50.7613 50.7205 53.6182 46.4448C56.4751 42.1691 58 37.1423 58 32C57.9914 25.107 55.2494 18.4988 50.3753 13.6247C45.5012 8.75064 38.893 6.0086 32 6ZM41.11 33.665L29.11 41.665C28.7809 41.8831 28.3949 41.9996 28 42C27.4696 42 26.9609 41.7893 26.5858 41.4142C26.2107 41.0391 26 40.5304 26 40V24C25.9998 23.6378 26.0979 23.2824 26.2839 22.9716C26.4699 22.6609 26.7367 22.4064 27.056 22.2355C27.3753 22.0645 27.735 21.9835 28.0968 22.001C28.4585 22.0186 28.8087 22.134 29.11 22.335L41.11 30.335C41.3843 30.5176 41.6093 30.7651 41.7649 31.0556C41.9205 31.346 42.002 31.6705 42.002 32C42.002 32.3295 41.9205 32.654 41.7649 32.9444C41.6093 33.2349 41.3843 33.4824 41.11 33.665Z'
								
							/>
						</g>
					</svg>                    
				)}
			</div>
		</>
	);
}
